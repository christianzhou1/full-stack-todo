<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Memory Array</title>
    <script src="crud-interface.mjs" type="module"></script>
  </head>
  <body>
    <h1>Open the console in Developer Tools to view results</h1>

    <script type="module">
      import CrudInterface from "./crud-interface.mjs";
      async function loadData() {
        try {
          const response = await fetch("../db.json");
          if (!response.ok) {
            throw new Error("Network response was not ok");
          }
          const data = await response.json();
          console.log("Data loaded:", data);
          return data;
        } catch (error) {
          console.error("Error loading JSON:", error);
        }
      }

      async function main() {
        const data = await loadData();
        console.log("todos", data.toDos);
        const crudInterface = new CrudInterface(data.toDos);
        crudInterface.createToDo("task 3");
      }
      main();
    </script>
  </body>
</html>
